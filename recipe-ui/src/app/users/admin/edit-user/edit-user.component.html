<div>
  <mat-card>
    <mat-card-title>Benutzer bearbeiten</mat-card-title>
    <mat-card-content>
      <form #form="ngForm">
        <div>
          <mat-form-field class="form-element">
            <mat-label>Benutzername</mat-label>
            <input matInput [(ngModel)]="userForm.id" id name="id" #id="ngModel" required minlength="5" />
            <mat-error>{{getErrors(id)}}</mat-error>
          </mat-form-field>
        </div>
        <div>
          <mat-form-field class="form-element">
            <mat-label>Email</mat-label>
            <input matInput [(ngModel)]="userForm.email" email name="email" #email="ngModel" type="email" required />
            <mat-error>{{getErrors(email)}}</mat-error>
          </mat-form-field>
        </div>
        <div>
          <mat-form-field class="form-element">
            <mat-label>Passwort</mat-label>
            <input matInput type="password" [(ngModel)]="userForm.password" password name="password" #password="ngModel"
              required minlength="10" />
            <mat-error>{{getErrors(password)}}</mat-error>
          </mat-form-field>
        </div>
        <div>
          <mat-form-field class="form-element" name="role">
            <mat-label>Rolle</mat-label>
            <mat-select [(ngModel)]="userForm.role" role name="role" #role="ngModel">
              <mat-option value="user">User</mat-option>
              <mat-option value="admin">Admin</mat-option>
            </mat-select>
            <mat-error>{{getErrors(role)}}</mat-error>
          </mat-form-field>
        </div>
        <div>
          <h3>Links</h3>
          <app-links-form [(links)]="userForm.links"></app-links-form>
        </div>
        <div class="flex flex-col gap-2 mt-5">
          <button mat-raised-button color="primary" [disabled]="form.invalid || linksFormComponent?.invalid"
            (click)="updateUser()">Speichern</button>
          <button mat-raised-button color="primary" routerLink="/users">Abbrechen</button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>
